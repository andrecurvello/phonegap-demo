function dumpObj(obj,name,indent,depth){if(!indent){indent="  "}if(!depth){depth=1}if(!name){name="Obj"}if(depth>10){return indent+name+": <Maximum Depth Reached>\n"}if(typeof obj=="object"){var child=null;var output=indent+name+"\n";indent+="\t";var item;for(item in obj){var child="";try{child=obj[item]}catch(e){child="<Unable to Evaluate>"}if(typeof child=="object"){if(depth>1){output+=dumpObj(child,item,indent,depth-1)}}else{output+=indent+item+": "+child+"\n"}}return output}else{return obj}}if(typeof(DeviceInfo)!="object"){DeviceInfo={}}var PhoneGap={queue:{ready:true,commands:[],timer:null}};PhoneGap.Channel=function(type){this.type=type;this.handlers={};this.guid=0;this.fired=false;this.enabled=true};PhoneGap.Channel.prototype.subscribe=function(f,c,g){if(f==null){return}var func=f;if(typeof c=="object"&&f instanceof Function){func=PhoneGap.close(c,f)}g=g||func.observer_guid||f.observer_guid||this.guid++;func.observer_guid=g;f.observer_guid=g;this.handlers[g]=func;return g};PhoneGap.Channel.prototype.subscribeOnce=function(f,c){var g=null;var _this=this;var m=function(){f.apply(c||null,arguments);_this.unsubscribe(g)};if(this.fired){if(typeof c=="object"&&f instanceof Function){f=PhoneGap.close(c,f)}f.apply(this,this.fireArgs)}else{g=this.subscribe(m)}return g};PhoneGap.Channel.prototype.unsubscribe=function(g){if(g instanceof Function){g=g.observer_guid}this.handlers[g]=null;delete this.handlers[g]};PhoneGap.Channel.prototype.fire=function(e){console.log("fire("+this.type+")");var cnt=0;if(this.enabled){var fail=false;for(var item in this.handlers){cnt++;var handler=this.handlers[item];if(handler instanceof Function){var rv=(handler.apply(this,arguments)==false);fail=fail||rv}}this.fired=true;this.fireArgs=arguments;console.log(" -- sent "+cnt+" to "+this.type+" handlers");return !fail}return true};PhoneGap.Channel.join=function(h,c){var i=c.length;var f=function(){if(!(--i)){h()}};for(var j=0;j<i;j++){(!c[j].fired?c[j].subscribeOnce(f):i--)}if(!i){h()}};PhoneGap.available=DeviceInfo.uuid!=undefined;PhoneGap.addConstructor=function(func){PhoneGap.onPhoneGapInit.subscribeOnce(function(){try{func()}catch(e){console.log("Failed to run constructor: "+e)}})};if(!window.plugins){window.plugins={}}PhoneGap.addPlugin=function(name,obj){if(!window.plugins[name]){window.plugins[name]=obj}else{console.log("Error: Plugin "+name+" already exists.")}};PhoneGap.onDOMContentLoaded=new PhoneGap.Channel("onDOMContentLoaded");PhoneGap.onNativeReady=new PhoneGap.Channel("onNativeReady");PhoneGap.onPhoneGapInit=new PhoneGap.Channel("onPhoneGapInit");PhoneGap.onPhoneGapReady=new PhoneGap.Channel("onPhoneGapReady");PhoneGap.onPhoneGapInfoReady=new PhoneGap.Channel("onPhoneGapInfoReady");PhoneGap.onResume=new PhoneGap.Channel("onResume");PhoneGap.onPause=new PhoneGap.Channel("onPause");if(typeof _nativeReady!=="undefined"){PhoneGap.onNativeReady.fire()}PhoneGap.onDeviceReady=new PhoneGap.Channel("onDeviceReady");PhoneGap.Channel.join(function(){console.log("JOIN - onDOMContentLoaded + onNativeReady");setTimeout(function(){if(CallbackServer.usePolling()){console.log("************** USING POLLING");PhoneGap.JSCallbackPolling()}else{console.log("************** USING XHR");PhoneGap.JSCallback()}},1);PhoneGap.onPhoneGapInit.fire();PhoneGap.onPhoneGapReady.fire()},[PhoneGap.onDOMContentLoaded,PhoneGap.onNativeReady]);PhoneGap.Channel.join(function(){console.log("JOIN - onPhoneGapReady + onPhoneGapInfoReady");navigator.notification.activityStop();PhoneGap.onDeviceReady.fire();PhoneGap.onResume.fire()},[PhoneGap.onPhoneGapReady,PhoneGap.onPhoneGapInfoReady]);document.addEventListener("DOMContentLoaded",function(){PhoneGap.onDOMContentLoaded.fire()},false);PhoneGap.m_document_addEventListener=document.addEventListener;document.addEventListener=function(evt,handler,capture){var e=evt.toLowerCase();if(e=="deviceready"){PhoneGap.onDeviceReady.subscribeOnce(handler)}else{if(e=="resume"){PhoneGap.onResume.subscribe(handler)}else{if(e=="pause"){PhoneGap.onPause.subscribe(handler)}else{PhoneGap.m_document_addEventListener.call(document,evt,handler,capture)}}}};PhoneGap.stringify=function(args){if(typeof JSON=="undefined"){var s="[";for(var i=0;i<args.length;i++){if(i>0){s=s+","}var type=typeof args[i];if((type=="number")||(type=="boolean")){s=s+args[i]}else{if(args[i] instanceof Array){s=s+"["+args[i]+"]"}else{if(args[i] instanceof Object){var start=true;s=s+"{";for(var name in args[i]){if(args[i][name]!=null){if(!start){s=s+","}s=s+'"'+name+'":';var nameType=typeof args[i][name];if((nameType=="number")||(nameType=="boolean")){s=s+args[i][name]}else{if((typeof args[i][name])=="function"){s=s+'""'}else{if(args[i][name] instanceof Object){s=s+this.stringify(args[i][name])}else{s=s+'"'+args[i][name]+'"'}}}start=false}}s=s+"}"}else{var a=args[i].replace(/\\/g,"\\\\");a=a.replace(/"/g,'\\"');s=s+'"'+a+'"'}}}}s=s+"]";return s}else{return JSON.stringify(args)}};PhoneGap.clone=function(obj){if(!obj){return obj}if(obj instanceof Array){var retVal=new Array();for(var i=0;i<obj.length;++i){retVal.push(PhoneGap.clone(obj[i]))}return retVal}if(obj instanceof Function){return obj}if(!(obj instanceof Object)){return obj}retVal=new Object();for(i in obj){if(!(i in retVal)||retVal[i]!=obj[i]){retVal[i]=PhoneGap.clone(obj[i])}}return retVal};PhoneGap.callbackId=0;PhoneGap.callbacks={};PhoneGap.callbackStatus={NO_RESULT:0,OK:1,CLASS_NOT_FOUND_EXCEPTION:2,ILLEGAL_ACCESS_EXCEPTION:3,INSTANTIATION_EXCEPTION:4,MALFORMED_URL_EXCEPTION:5,IO_EXCEPTION:6,INVALID_ACTION:7,JSON_EXCEPTION:8,ERROR:9};PhoneGap.exec=function(success,fail,service,action,args){try{var callbackId=service+PhoneGap.callbackId++;if(success||fail){PhoneGap.callbacks[callbackId]={success:success,fail:fail}}console.log("PhoneGap.exec("+service+", "+action+", "+this.stringify(args)+"): callbackId="+callbackId);var r=""+PluginManager.exec(service,action,callbackId,this.stringify(args),true);if(r.length>0){console.log("Result from exec=<"+dumpObj(r,""," ",2)+">");eval("var v="+r+";");if(v.status==PhoneGap.callbackStatus.OK){if(success){try{success(v.message)}catch(e){console.log("Error in success callback: "+callbackId+" = "+e)}if(!v.keepCallback){console.log("DELETING CALLBACK "+callbackId);delete PhoneGap.callbacks[callbackId]}}return v.message}else{if(v.status==PhoneGap.callbackStatus.NO_RESULT){if(!v.keepCallback){console.log("DELETING CALLBACK "+callbackId);delete PhoneGap.callbacks[callbackId]}}else{console.log("Error: Status="+r.status+" Message="+v.message);if(fail){try{fail(v.message)}catch(e){console.log("Error in error callback: "+callbackId+" = "+e)}if(!v.keepCallback){console.log("DELETING CALLBACK "+callbackId);delete PhoneGap.callbacks[callbackId]}}return null}}}}catch(e){console.log("Error: "+e)}};PhoneGap.callbackSuccess=function(callbackId,args){if(PhoneGap.callbacks[callbackId]){if(args.status==PhoneGap.callbackStatus.OK){try{if(PhoneGap.callbacks[callbackId].success){PhoneGap.callbacks[callbackId].success(args.message)}}catch(e){console.log("Error in success callback: "+callbackId+" = "+e)}}if(!args.keepCallback){console.log("DELETING CALLBACK "+callbackId);delete PhoneGap.callbacks[callbackId]}}};PhoneGap.callbackError=function(callbackId,args){console.log("callbackError("+args+")");if(PhoneGap.callbacks[callbackId]){try{if(PhoneGap.callbacks[callbackId].fail){PhoneGap.callbacks[callbackId].fail(args.message)}}catch(e){console.log("Error in error callback: "+callbackId+" = "+e)}if(!args.keepCallback){console.log("DELETING CALLBACK "+callbackId);delete PhoneGap.callbacks[callbackId]}}};PhoneGap.run_command=function(){if(!PhoneGap.available||!PhoneGap.queue.ready){return}PhoneGap.queue.ready=false;var args=PhoneGap.queue.commands.shift();if(PhoneGap.queue.commands.length==0){clearInterval(PhoneGap.queue.timer);PhoneGap.queue.timer=null}var uri=[];var dict=null;for(var i=1;i<args.length;i++){var arg=args[i];if(arg==undefined||arg==null){arg=""}if(typeof(arg)=="object"){dict=arg}else{uri.push(encodeURIComponent(arg))}}var url="gap://"+args[0]+"/"+uri.join("/");if(dict!=null){var query_args=[];for(var name in dict){if(typeof(name)!="string"){continue}query_args.push(encodeURIComponent(name)+"="+encodeURIComponent(dict[name]))}if(query_args.length>0){url+="?"+query_args.join("&")}}document.location=url};PhoneGap.JSCallbackPort=null;PhoneGap.JSCallbackToken=null;PhoneGap.JSCallback=function(){var xmlhttp=new XMLHttpRequest();xmlhttp.onreadystatechange=function(){if(xmlhttp.readyState==4){if(xmlhttp.status==200){var msg=xmlhttp.responseText;setTimeout(function(){try{var t=eval(msg)}catch(e){console.log("JSCallback: Message from Server: "+msg);console.log("JSCallback Error: "+e)}},1);setTimeout(PhoneGap.JSCallback,1)}else{if(xmlhttp.status==404){setTimeout(PhoneGap.JSCallback,10)}else{if(xmlhttp.status==403){console.log("JSCallback Error: Invalid token.  Stopping callbacks.")}else{if(xmlhttp.status==503){console.log("JSCallback Error: Service unavailable.  Stopping callbacks.")}else{if(xmlhttp.status==400){console.log("JSCallback Error: Bad request.  Stopping callbacks.")}else{console.log("JSCallback Error: Request failed.");CallbackServer.restartServer();PhoneGap.JSCallbackPort=null;PhoneGap.JSCallbackToken=null;setTimeout(PhoneGap.JSCallback,100)}}}}}}};if(PhoneGap.JSCallbackPort==null){PhoneGap.JSCallbackPort=CallbackServer.getPort()}if(PhoneGap.JSCallbackToken==null){PhoneGap.JSCallbackToken=CallbackServer.getToken()}xmlhttp.open("GET","http://127.0.0.1:"+PhoneGap.JSCallbackPort+"/"+PhoneGap.JSCallbackToken,true);xmlhttp.send()};PhoneGap.JSCallbackPollingPeriod=50;PhoneGap.JSCallbackPolling=function(){var msg=CallbackServer.getJavascript();if(msg){setTimeout(function(){try{console.log("JSCallbackPolling: msg="+msg);var t=eval(""+msg)}catch(e){console.log("JSCallbackPolling: Message from Server: "+msg);console.log("JSCallbackPolling Error: "+e)}},1);setTimeout(PhoneGap.JSCallbackPolling,1)}else{setTimeout(PhoneGap.JSCallbackPolling,PhoneGap.JSCallbackPollingPeriod)}};PhoneGap.createUUID=function(){return PhoneGap.UUIDcreatePart(4)+"-"+PhoneGap.UUIDcreatePart(2)+"-"+PhoneGap.UUIDcreatePart(2)+"-"+PhoneGap.UUIDcreatePart(2)+"-"+PhoneGap.UUIDcreatePart(6)};PhoneGap.UUIDcreatePart=function(length){var uuidpart="";for(var i=0;i<length;i++){var uuidchar=parseInt((Math.random()*256)).toString(16);if(uuidchar.length==1){uuidchar="0"+uuidchar}uuidpart+=uuidchar}return uuidpart};PhoneGap.close=function(context,func,params){if(typeof params==="undefined"){return function(){return func.apply(context,arguments)}}else{return function(){return func.apply(context,params)}}};PhoneGap.includeJavascript=function(jsfile,successCallback){var id=document.getElementsByTagName("head")[0];var el=document.createElement("script");el.type="text/javascript";if(typeof successCallback=="function"){el.onload=successCallback}el.src=jsfile;id.appendChild(el)};function Acceleration(x,y,z){this.x=x;this.y=y;this.z=z;this.timestamp=new Date().getTime()}function Accelerometer(){this.lastAcceleration=null;this.timers={}}Accelerometer.ERROR_MSG=["Not running","Starting","","Failed to start"];Accelerometer.prototype.getCurrentAcceleration=function(successCallback,errorCallback,options){if(typeof successCallback!="function"){console.log("Accelerometer Error: successCallback is not a function");return}if(errorCallback&&(typeof errorCallback!="function")){console.log("Accelerometer Error: errorCallback is not a function");return}PhoneGap.exec(successCallback,errorCallback,"Accelerometer","getAcceleration",[])};Accelerometer.prototype.watchAcceleration=function(successCallback,errorCallback,options){var frequency=(options!=undefined)?options.frequency:10000;if(typeof successCallback!="function"){console.log("Accelerometer Error: successCallback is not a function");return}if(errorCallback&&(typeof errorCallback!="function")){console.log("Accelerometer Error: errorCallback is not a function");return}PhoneGap.exec(function(timeout){if(timeout<(frequency+10000)){PhoneGap.exec(null,null,"Accelerometer","setTimeout",[frequency+10000])}},function(e){},"Accelerometer","getTimeout",[]);var id=PhoneGap.createUUID();navigator.accelerometer.timers[id]=setInterval(function(){PhoneGap.exec(successCallback,errorCallback,"Accelerometer","getAcceleration",[])},(frequency?frequency:1));return id};Accelerometer.prototype.clearWatch=function(id){if(id&&navigator.accelerometer.timers[id]!=undefined){clearInterval(navigator.accelerometer.timers[id]);delete navigator.accelerometer.timers[id]}};PhoneGap.addConstructor(function(){if(typeof navigator.accelerometer=="undefined"){navigator.accelerometer=new Accelerometer()}});PhoneGap.Camera=function(){this.successCallback=null;this.errorCallback=null;this.options=null};PhoneGap.Camera.DestinationType={DATA_URL:0,FILE_URI:1};PhoneGap.Camera.prototype.DestinationType=PhoneGap.Camera.DestinationType;PhoneGap.Camera.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2};PhoneGap.Camera.prototype.PictureSourceType=PhoneGap.Camera.PictureSourceType;PhoneGap.Camera.prototype.getPicture=function(successCallback,errorCallback,options){if(typeof successCallback!="function"){console.log("Camera Error: successCallback is not a function");return}if(errorCallback&&(typeof errorCallback!="function")){console.log("Camera Error: errorCallback is not a function");return}this.options=options;var quality=80;if(options.quality){quality=this.options.quality}var destinationType=PhoneGap.Camera.DestinationType.DATA_URL;if(this.options.destinationType){destinationType=this.options.destinationType}var sourceType=PhoneGap.Camera.PictureSourceType.CAMERA;if(typeof this.options.sourceType=="number"){sourceType=this.options.sourceType}PhoneGap.exec(successCallback,errorCallback,"Camera","takePicture",[quality,destinationType,sourceType])};PhoneGap.addConstructor(function(){if(typeof navigator.camera=="undefined"){navigator.camera=new PhoneGap.Camera()}});function Compass(){this.lastHeading=null;this.timers={}}Compass.ERROR_MSG=["Not running","Starting","","Failed to start"];Compass.prototype.getCurrentHeading=function(successCallback,errorCallback,options){if(typeof successCallback!="function"){console.log("Compass Error: successCallback is not a function");return}if(errorCallback&&(typeof errorCallback!="function")){console.log("Compass Error: errorCallback is not a function");return}PhoneGap.exec(successCallback,errorCallback,"Compass","getHeading",[])};Compass.prototype.watchHeading=function(successCallback,errorCallback,options){var frequency=(options!=undefined)?options.frequency:100;if(typeof successCallback!="function"){console.log("Compass Error: successCallback is not a function");return}if(errorCallback&&(typeof errorCallback!="function")){console.log("Compass Error: errorCallback is not a function");return}PhoneGap.exec(function(timeout){if(timeout<(frequency+10000)){PhoneGap.exec(null,null,"Compass","setTimeout",[frequency+10000])}},function(e){},"Compass","getTimeout",[]);var id=PhoneGap.createUUID();navigator.compass.timers[id]=setInterval(function(){PhoneGap.exec(successCallback,errorCallback,"Compass","getHeading",[])},(frequency?frequency:1));return id};Compass.prototype.clearWatch=function(id){if(id&&navigator.compass.timers[id]){clearInterval(navigator.compass.timers[id]);delete navigator.compass.timers[id]}};PhoneGap.addConstructor(function(){if(typeof navigator.compass=="undefined"){navigator.compass=new Compass()}});var Contact=function(id,displayName,name,nickname,phoneNumbers,emails,addresses,ims,organizations,published,updated,birthday,anniversary,gender,note,preferredUsername,photos,tags,relationships,urls,accounts,utcOffset,connected){this.id=id||null;this.rawId=null;this.displayName=displayName||null;this.name=name||null;this.nickname=nickname||null;this.phoneNumbers=phoneNumbers||null;this.emails=emails||null;this.addresses=addresses||null;this.ims=ims||null;this.organizations=organizations||null;this.published=published||null;this.updated=updated||null;this.birthday=birthday||null;this.anniversary=anniversary||null;this.gender=gender||null;this.note=note||null;this.preferredUsername=preferredUsername||null;this.photos=photos||null;this.tags=tags||null;this.relationships=relationships||null;this.urls=urls||null;this.accounts=accounts||null;this.utcOffset=utcOffset||null;this.connected=connected||null};Contact.prototype.remove=function(successCB,errorCB){if(this.id==null){var errorObj=new ContactError();errorObj.code=ContactError.NOT_FOUND_ERROR;errorCB(errorObj)}PhoneGap.exec(successCB,errorCB,"Contacts","remove",[this.id])};Contact.prototype.clone=function(){var clonedContact=PhoneGap.clone(this);clonedContact.id=null;clonedContact.rawId=null;if(clonedContact.phoneNumbers){for(i=0;i<clonedContact.phoneNumbers.length;i++){clonedContact.phoneNumbers[i].id=null}}if(clonedContact.emails){for(i=0;i<clonedContact.emails.length;i++){clonedContact.emails[i].id=null}}if(clonedContact.addresses){for(i=0;i<clonedContact.addresses.length;i++){clonedContact.addresses[i].id=null}}if(clonedContact.ims){for(i=0;i<clonedContact.ims.length;i++){clonedContact.ims[i].id=null}}if(clonedContact.organizations){for(i=0;i<clonedContact.organizations.length;i++){clonedContact.organizations[i].id=null}}if(clonedContact.tags){for(i=0;i<clonedContact.tags.length;i++){clonedContact.tags[i].id=null}}if(clonedContact.relationships){for(i=0;i<clonedContact.relationships.length;i++){clonedContact.relationships[i].id=null}}if(clonedContact.urls){for(i=0;i<clonedContact.urls.length;i++){clonedContact.urls[i].id=null}}return clonedContact};Contact.prototype.save=function(successCB,errorCB){PhoneGap.exec(successCB,errorCB,"Contacts","save",[this])};var ContactName=function(formatted,familyName,givenName,middle,prefix,suffix){this.formatted=formatted||null;this.familyName=familyName||null;this.givenName=givenName||null;this.middleName=middle||null;this.honorificPrefix=prefix||null;this.honorificSuffix=suffix||null};var ContactField=function(type,value,primary){this.id=null;this.type=type||null;this.value=value||null;this.primary=primary||null};var ContactAddress=function(formatted,streetAddress,locality,region,postalCode,country){this.id=null;this.formatted=formatted||null;this.streetAddress=streetAddress||null;this.locality=locality||null;this.region=region||null;this.postalCode=postalCode||null;this.country=country||null};var ContactOrganization=function(name,dept,title,startDate,endDate,location,desc){this.id=null;this.name=name||null;this.department=dept||null;this.title=title||null;this.startDate=startDate||null;this.endDate=endDate||null;this.location=location||null;this.description=desc||null};var ContactAccount=function(domain,username,userid){this.id=null;this.domain=domain||null;this.username=username||null;this.userid=userid||null};var Contacts=function(){this.inProgress=false;this.records=new Array()};Contacts.prototype.find=function(fields,successCB,errorCB,options){PhoneGap.exec(successCB,errorCB,"Contacts","search",[fields,options])};Contacts.prototype.create=function(properties){var contact=new Contact();for(i in properties){if(contact[i]!="undefined"){contact[i]=properties[i]}}return contact};var ContactFindOptions=function(filter,multiple,limit,updatedSince){this.filter=filter||"";this.multiple=multiple||false;this.limit=limit||1;this.updatedSince=updatedSince||""};var ContactError=function(){this.code=null};ContactError.UNKNOWN_ERROR=0;ContactError.INVALID_ARGUMENT_ERROR=1;ContactError.NOT_FOUND_ERROR=2;ContactError.TIMEOUT_ERROR=3;ContactError.PENDING_OPERATION_ERROR=4;ContactError.IO_ERROR=5;ContactError.NOT_SUPPORTED_ERROR=6;ContactError.PERMISSION_DENIED_ERROR=20;PhoneGap.addConstructor(function(){if(typeof navigator.service=="undefined"){navigator.service=new Object()}if(typeof navigator.service.contacts=="undefined"){navigator.service.contacts=new Contacts()}});var Crypto=function(){};Crypto.prototype.encrypt=function(seed,string,callback){this.encryptWin=callback;PhoneGap.exec(null,null,"Crypto","encrypt",[seed,string])};Crypto.prototype.decrypt=function(seed,string,callback){this.decryptWin=callback;PhoneGap.exec(null,null,"Crypto","decrypt",[seed,string])};Crypto.prototype.gotCryptedString=function(string){this.encryptWin(string)};Crypto.prototype.getPlainString=function(string){this.decryptWin(string)};PhoneGap.addConstructor(function(){if(typeof navigator.Crypto=="undefined"){navigator.Crypto=new Crypto()}});function Device(){console.log(">>>>>>>>>>>> Device()");this.available=PhoneGap.available;this.platform=null;this.version=null;this.name=null;this.uuid=null;this.phonegap=null;var me=this;this.getInfo(function(info){console.log("--- Got INFO");me.available=true;me.platform=info.platform;me.version=info.version;me.name=info.name;me.uuid=info.uuid;me.phonegap=info.phonegap;PhoneGap.onPhoneGapInfoReady.fire()},function(e){me.available=false;console.log("Error initializing PhoneGap: "+e);alert("Error initializing PhoneGap: "+e)})}Device.prototype.getInfo=function(successCallback,errorCallback){if(typeof successCallback!="function"){console.log("Device Error: successCallback is not a function");return}if(errorCallback&&(typeof errorCallback!="function")){console.log("Device Error: errorCallback is not a function");return}PhoneGap.exec(successCallback,errorCallback,"Device","getDeviceInfo",[])};Device.prototype.overrideBackButton=function(){BackButton.override()};Device.prototype.resetBackButton=function(){BackButton.reset()};Device.prototype.exitApp=function(){BackButton.exitApp()};PhoneGap.addConstructor(function(){navigator.device=window.device=new Device()});function FileList(){this.files={}}function File(){this.name=null;this.type=null;this.urn=null}File._createEvent=function(type,target){var evt={type:type};evt.target=target;return evt};function FileError(){this.NOT_FOUND_ERR=1;this.SECURITY_ERR=2;this.ABORT_ERR=3;this.NOT_READABLE_ERR=4;this.ENCODING_ERR=5;this.NO_MODIFICATION_ALLOWED_ERR=6;this.INVALID_STATE_ERR=7;this.SYNTAX_ERR=8;this.code=null}function FileMgr(){}FileMgr.prototype.getFileBasePaths=function(){};FileMgr.prototype.testSaveLocationExists=function(successCallback,errorCallback){PhoneGap.exec(successCallback,errorCallback,"File","testSaveLocationExists",[])};FileMgr.prototype.testFileExists=function(fileName,successCallback,errorCallback){PhoneGap.exec(successCallback,errorCallback,"File","testFileExists",[fileName])};FileMgr.prototype.testDirectoryExists=function(dirName,successCallback,errorCallback){PhoneGap.exec(successCallback,errorCallback,"File","testDirectoryExists",[dirName])};FileMgr.prototype.createDirectory=function(dirName,successCallback,errorCallback){PhoneGap.exec(successCallback,errorCallback,"File","createDirectory",[dirName])};FileMgr.prototype.deleteDirectory=function(dirName,successCallback,errorCallback){PhoneGap.exec(successCallback,errorCallback,"File","deleteDirectory",[dirName])};FileMgr.prototype.deleteFile=function(fileName,successCallback,errorCallback){PhoneGap.exec(successCallback,errorCallback,"File","deleteFile",[fileName])};FileMgr.prototype.getFreeDiskSpace=function(successCallback,errorCallback){PhoneGap.exec(successCallback,errorCallback,"File","getFreeDiskSpace",[])};FileMgr.prototype.writeAsText=function(fileName,data,append,successCallback,errorCallback){PhoneGap.exec(successCallback,errorCallback,"File","writeAsText",[fileName,data,append])};FileMgr.prototype.truncate=function(fileName,size,successCallback,errorCallback){PhoneGap.exec(successCallback,errorCallback,"File","truncate",[fileName,size])};FileMgr.prototype.readAsText=function(fileName,encoding,successCallback,errorCallback){PhoneGap.exec(successCallback,errorCallback,"File","readAsText",[fileName,encoding])};FileMgr.prototype.readAsDataURL=function(fileName,successCallback,errorCallback){PhoneGap.exec(successCallback,errorCallback,"File","readAsDataURL",[fileName])};PhoneGap.addConstructor(function(){if(typeof navigator.fileMgr=="undefined"){navigator.fileMgr=new FileMgr()}});function FileReader(){this.fileName="";this.readyState=0;this.result=null;this.error=null;this.onloadstart=null;this.onprogress=null;this.onload=null;this.onerror=null;this.onloadend=null;this.onabort=null}FileReader.EMPTY=0;FileReader.LOADING=1;FileReader.DONE=2;FileReader.prototype.abort=function(){this.readyState=FileReader.DONE;if(typeof this.onabort=="function"){var evt=File._createEvent("abort",this);this.onabort(evt)}};FileReader.prototype.readAsText=function(file,encoding){this.fileName=file;this.readyState=FileReader.LOADING;if(typeof this.onloadstart=="function"){var evt=File._createEvent("loadstart",this);this.onloadstart(evt)}var enc=encoding?encoding:"UTF-8";var me=this;navigator.fileMgr.readAsText(file,enc,function(r){if(me.readyState==FileReader.DONE){return}me.result=r;me.readyState=FileReader.DONE;if(typeof me.onload=="function"){var evt=File._createEvent("load",me);me.onload(evt)}if(typeof me.onloadend=="function"){var evt=File._createEvent("loadend",me);me.onloadend(evt)}},function(e){if(me.readyState==FileReader.DONE){return}me.error=e;me.readyState=FileReader.DONE;if(typeof me.onerror=="function"){var evt=File._createEvent("error",me);me.onerror(evt)}if(typeof me.onloadend=="function"){var evt=File._createEvent("loadend",me);me.onloadend(evt)}})};FileReader.prototype.readAsDataURL=function(file){this.fileName=file;this.readyState=FileReader.LOADING;if(typeof this.onloadstart=="function"){var evt=File._createEvent("loadstart",this);this.onloadstart(evt)}var me=this;navigator.fileMgr.readAsDataURL(file,function(r){if(me.readyState==FileReader.DONE){return}me.result=r;me.readyState=FileReader.DONE;if(typeof me.onload=="function"){var evt=File._createEvent("load",me);me.onload(evt)}if(typeof me.onloadend=="function"){var evt=File._createEvent("loadend",me);me.onloadend(evt)}},function(e){if(me.readyState==FileReader.DONE){return}me.error=e;me.readyState=FileReader.DONE;if(typeof me.onerror=="function"){var evt=File._createEvent("error",me);me.onerror(evt)}if(typeof me.onloadend=="function"){var evt=File._createEvent("loadend",me);me.onloadend(evt)}})};FileReader.prototype.readAsBinaryString=function(file){this.fileName=file};FileReader.prototype.readAsArrayBuffer=function(file){this.fileName=file};function FileWriter(){this.fileName="";this.readyState=0;this.result=null;this.error=null;this.onwritestart=null;this.onprogress=null;this.onwrite=null;this.onwriteend=null;this.onabort=null;this.onerror=null}FileWriter.INIT=0;FileWriter.WRITING=1;FileWriter.DONE=2;FileWriter.prototype.abort=function(){this.readyState=FileWriter.DONE;if(typeof this.onabort=="function"){var evt=File._createEvent("abort",this);this.onabort(evt)}};FileWriter.prototype.writeAsText=function(file,text,bAppend){if(this.readyState==FileWriter.WRITING){throw FileError.INVALID_STATE_ERR}if(bAppend!=true){bAppend=false}this.fileName=file;this.readyState=FileWriter.WRITING;var me=this;if(typeof me.onwritestart=="function"){var evt=File._createEvent("writestart",me);me.onwritestart(evt)}navigator.fileMgr.writeAsText(file,text,bAppend,function(r){if(me.readyState==FileWriter.DONE){return}me.result=r;if(typeof me.onwrite=="function"){var evt=File._createEvent("write",me);me.onwrite(evt)}me.readyState=FileWriter.DONE;if(typeof me.onwriteend=="function"){var evt=File._createEvent("writeend",me);me.onwriteend(evt)}},function(e){if(me.readyState==FileWriter.DONE){return}me.error=e;if(typeof me.onerror=="function"){var evt=File._createEvent("error",me);me.onerror(evt)}me.readyState=FileWriter.DONE;if(typeof me.onwriteend=="function"){var evt=File._createEvent("writeend",me);me.onwriteend(evt)}})};FileWriter.prototype.truncate=function(file,size){if(this.readyState==FileWriter.WRITING){throw FileError.INVALID_STATE_ERR}this.fileName=file;this.readyState=FileWriter.WRITING;var me=this;if(typeof me.onwritestart=="function"){var evt=File._createEvent("writestart",me);me.onwritestart(evt)}navigator.fileMgr.truncate(file,size,function(r){if(me.readyState==FileWriter.DONE){return}me.result=r;if(typeof me.onwrite=="function"){var evt=File._createEvent("write",me);me.onwrite(evt)}me.readyState=FileWriter.DONE;if(typeof me.onwriteend=="function"){var evt=File._createEvent("writeend",me);me.onwriteend(evt)}},function(e){if(me.readyState==FileWriter.DONE){return}me.error=e;if(typeof me.onerror=="function"){var evt=File._createEvent("error",me);me.onerror(evt)}me.readyState=FileWriter.DONE;if(typeof me.onwriteend=="function"){var evt=File._createEvent("writeend",me);me.onwriteend(evt)}})};function Geolocation(){this.lastPosition=null;this.listeners={}}function PositionError(code,message){this.code=code;this.message=message}PositionError.PERMISSION_DENIED=1;PositionError.POSITION_UNAVAILABLE=2;PositionError.TIMEOUT=3;Geolocation.prototype.getCurrentPosition=function(successCallback,errorCallback,options){console.log("Geolocation.getCurrentPosition()");if(navigator._geo.listeners.global){console.log("Geolocation Error: Still waiting for previous getCurrentPosition() request.");try{errorCallback(new PositionError(PositionError.TIMEOUT,"Geolocation Error: Still waiting for previous getCurrentPosition() request."))}catch(e){}return}var maximumAge=10000;var enableHighAccuracy=false;var timeout=10000;if(typeof options!="undefined"){if(typeof options.maximumAge!="undefined"){maximumAge=options.maximumAge}if(typeof options.enableHighAccuracy!="undefined"){enableHighAccuracy=options.enableHighAccuracy}if(typeof options.timeout!="undefined"){timeout=options.timeout}}navigator._geo.listeners.global={success:successCallback,fail:errorCallback};PhoneGap.exec(null,null,"Geolocation","getCurrentLocation",[enableHighAccuracy,timeout,maximumAge])};Geolocation.prototype.watchPosition=function(successCallback,errorCallback,options){var maximumAge=10000;var enableHighAccuracy=false;var timeout=10000;if(typeof options!="undefined"){if(typeof options.frequency!="undefined"){maximumAge=options.frequency}if(typeof options.maximumAge!="undefined"){maximumAge=options.maximumAge}if(typeof options.enableHighAccuracy!="undefined"){enableHighAccuracy=options.enableHighAccuracy}if(typeof options.timeout!="undefined"){timeout=options.timeout}}var id=PhoneGap.createUUID();navigator._geo.listeners[id]={success:successCallback,fail:errorCallback};PhoneGap.exec(null,null,"Geolocation","start",[id,enableHighAccuracy,timeout,maximumAge]);return id};Geolocation.prototype.success=function(id,lat,lng,alt,altacc,head,vel,stamp){var coords=new Coordinates(lat,lng,alt,altacc,head,vel);var loc=new Position(coords,stamp);try{if(lat=="undefined"||lng=="undefined"){navigator._geo.listeners[id].fail(new PositionError(PositionError.POSITION_UNAVAILABLE,"Lat/Lng are undefined."))}else{navigator._geo.lastPosition=loc;navigator._geo.listeners[id].success(loc)}}catch(e){console.log("Geolocation Error: Error calling success callback function.")}if(id=="global"){delete navigator._geo.listeners.global}};Geolocation.prototype.fail=function(id,code,msg){try{navigator._geo.listeners[id].fail(new PositionError(code,msg))}catch(e){console.log("Geolocation Error: Error calling error callback function.")}};Geolocation.prototype.clearWatch=function(id){PhoneGap.exec(null,null,"Geolocation","stop",[id]);delete navigator._geo.listeners[id]};Geolocation.usingPhoneGap=false;Geolocation.usePhoneGap=function(){if(Geolocation.usingPhoneGap){return}Geolocation.usingPhoneGap=true;console.log("#################### Using PhoneGap geolocation.");navigator.geolocation.setLocation=navigator._geo.setLocation;navigator.geolocation.getCurrentPosition=navigator._geo.getCurrentPosition;navigator.geolocation.watchPosition=navigator._geo.watchPosition;navigator.geolocation.clearWatch=navigator._geo.clearWatch;navigator.geolocation.start=navigator._geo.start;navigator.geolocation.stop=navigator._geo.stop};PhoneGap.addConstructor(function(){navigator._geo=new Geolocation();if(typeof navigator.geolocation=="undefined"){navigator.geolocation=navigator._geo;Geolocation.usingPhoneGap=true}else{console.log("################## GEOLOCATION BUILT-IN")}});function KeyEvent(){}KeyEvent.prototype.backTrigger=function(){var e=document.createEvent("Events");e.initEvent("backKeyDown");document.dispatchEvent(e)};KeyEvent.prototype.menuTrigger=function(){var e=document.createEvent("Events");e.initEvent("menuKeyDown");document.dispatchEvent(e)};KeyEvent.prototype.searchTrigger=function(){var e=document.createEvent("Events");e.initEvent("searchKeyDown");document.dispatchEvent(e)};if(document.keyEvent==null||typeof document.keyEvent=="undefined"){window.keyEvent=document.keyEvent=new KeyEvent()}PhoneGap.mediaObjects={};PhoneGap.Media=function(){};PhoneGap.Media.getMediaObject=function(id){return PhoneGap.mediaObjects[id]};PhoneGap.Media.onStatus=function(id,msg,value){var media=PhoneGap.mediaObjects[id];console.log("Media.onStatus("+msg+", "+value+")");if(msg==Media.MEDIA_STATE){if(value==Media.MEDIA_STOPPED){if(media.successCallback){media.successCallback()}}if(media.statusCallback){media.statusCallback(value)}}else{if(msg==Media.MEDIA_DURATION){media._duration=value}else{if(msg==Media.MEDIA_ERROR){if(media.errorCallback){media.errorCallback(value)}}}}};Media=function(src,successCallback,errorCallback,statusCallback,positionCallback){if(successCallback&&(typeof successCallback!="function")){console.log("Media Error: successCallback is not a function");return}if(errorCallback&&(typeof errorCallback!="function")){console.log("Media Error: errorCallback is not a function");return}if(statusCallback&&(typeof statusCallback!="function")){console.log("Media Error: statusCallback is not a function");return}if(positionCallback&&(typeof positionCallback!="function")){console.log("Media Error: positionCallback is not a function");return}this.id=PhoneGap.createUUID();console.log("Media("+src+") id="+this.id);PhoneGap.mediaObjects[this.id]=this;this.src=src;this.successCallback=successCallback;this.errorCallback=errorCallback;this.statusCallback=statusCallback;this.positionCallback=positionCallback;this._duration=-1;this._position=-1};Media.MEDIA_STATE=1;Media.MEDIA_DURATION=2;Media.MEDIA_ERROR=9;Media.MEDIA_NONE=0;Media.MEDIA_STARTING=1;Media.MEDIA_RUNNING=2;Media.MEDIA_PAUSED=3;Media.MEDIA_STOPPED=4;Media.MEDIA_MSG=["None","Starting","Running","Paused","Stopped"];function MediaError(){this.code=null,this.message=""}MediaError.MEDIA_ERR_ABORTED=1;MediaError.MEDIA_ERR_NETWORK=2;MediaError.MEDIA_ERR_DECODE=3;MediaError.MEDIA_ERR_NONE_SUPPORTED=4;Media.prototype.play=function(){console.log("Media.play() - src="+this.src+" id="+this.id);PhoneGap.exec(null,null,"Media","startPlayingAudio",[this.id,this.src])};Media.prototype.stop=function(){console.log("Media.stop() - src="+this.src+" id="+this.id);return PhoneGap.exec(null,null,"Media","stopPlayingAudio",[this.id])};Media.prototype.pause=function(){console.log("Media.pause() - src="+this.src+" id="+this.id);PhoneGap.exec(null,null,"Media","pausePlayingAudio",[this.id])};Media.prototype.getDuration=function(){console.log("Media.getDuration() - src="+this.src+" id="+this.id);return this._duration};Media.prototype.getCurrentPosition=function(success,fail){console.log("Media.getCurrentPosition()");PhoneGap.exec(success,fail,"Media","getCurrentPositionAudio",[this.id])};Media.prototype.startRecord=function(){console.log("Media.startRecord() - src="+this.src+" id="+this.id);PhoneGap.exec(null,null,"Media","startRecordingAudio",[this.id,this.src])};Media.prototype.stopRecord=function(){console.log("Media.stopRecord() - src="+this.src+" id="+this.id);PhoneGap.exec(null,null,"Media","stopRecordingAudio",[this.id])};function NetworkStatus(){}NetworkStatus.NOT_REACHABLE=0;NetworkStatus.REACHABLE_VIA_CARRIER_DATA_NETWORK=1;NetworkStatus.REACHABLE_VIA_WIFI_NETWORK=2;function Network(){this.lastReachability=null}Network.prototype.updateReachability=function(reachability){this.lastReachability=reachability};Network.prototype.isReachable=function(uri,callback,options){var isIpAddress=false;if(options&&options.isIpAddress){isIpAddress=options.isIpAddress}PhoneGap.exec(callback,null,"Network Status","isReachable",[uri,isIpAddress])};PhoneGap.addConstructor(function(){if(typeof navigator.network=="undefined"){navigator.network=new Network()}});function Notification(){}Notification.prototype.alert=function(message,completeCallback,title,buttonLabel){var _title=(title||"Alert");var _buttonLabel=(buttonLabel||"OK");PhoneGap.exec(completeCallback,null,"Notification","alert",[message,_title,_buttonLabel])};Notification.prototype.confirm=function(message,resultCallback,title,buttonLabels){var _title=(title||"Confirm");var _buttonLabels=(buttonLabels||"OK,Cancel");PhoneGap.exec(resultCallback,null,"Notification","confirm",[message,_title,_buttonLabels])};Notification.prototype.activityStart=function(){PhoneGap.exec(null,null,"Notification","activityStart",["Busy","Please wait..."])};Notification.prototype.activityStop=function(){PhoneGap.exec(null,null,"Notification","activityStop",[])};Notification.prototype.progressStart=function(title,message){PhoneGap.exec(null,null,"Notification","progressStart",[title,message])};Notification.prototype.progressValue=function(value){PhoneGap.exec(null,null,"Notification","progressValue",[value])};Notification.prototype.progressStop=function(){PhoneGap.exec(null,null,"Notification","progressStop",[])};Notification.prototype.blink=function(count,colour){};Notification.prototype.vibrate=function(mills){PhoneGap.exec(null,null,"Notification","vibrate",[mills])};Notification.prototype.beep=function(count){PhoneGap.exec(null,null,"Notification","beep",[count])};PhoneGap.addConstructor(function(){if(typeof navigator.notification=="undefined"){navigator.notification=new Notification()}});function Position(coords,timestamp){this.coords=coords;this.timestamp=(timestamp!="undefined")?timestamp:new Date().getTime()}function Coordinates(lat,lng,alt,acc,head,vel,altacc){this.latitude=lat;this.longitude=lng;this.accuracy=acc;this.altitude=alt;this.heading=head;this.speed=vel;this.altitudeAccuracy=(altacc!="undefined")?altacc:null}function PositionOptions(){this.enableHighAccuracy=true;this.timeout=10000}function PositionError(){this.code=null;this.message=""}PositionError.UNKNOWN_ERROR=0;PositionError.PERMISSION_DENIED=1;PositionError.POSITION_UNAVAILABLE=2;PositionError.TIMEOUT=3;var DroidDB=function(){this.queryQueue={}};DroidDB.prototype.addResult=function(rawdata,id){console.log("DroidDB.addResult("+rawdata+", "+id+")");try{eval("var data = "+rawdata+";");var query=this.queryQueue[id];query.resultSet.push(data)}catch(e){console.log("DroidDB.addResult(): Error="+e)}};DroidDB.prototype.completeQuery=function(id){console.log("DroidDB.completeQuery("+id+")");var query=this.queryQueue[id];if(query){try{delete this.queryQueue[id];var tx=query.tx;if(tx&&tx.queryList[id]){var r=new DroidDB_Result();r.rows.resultSet=query.resultSet;r.rows.length=query.resultSet.length;try{if(typeof query.successCallback=="function"){query.successCallback(query.tx,r)}}catch(ex){console.log("executeSql error calling user success callback: "+ex)}tx.queryComplete(id)}}catch(e){console.log("executeSql error: "+e)}}};DroidDB.prototype.fail=function(reason,id){console.log("DroidDB.fail("+reason+", "+id+")");var query=this.queryQueue[id];if(query){try{delete this.queryQueue[id];var tx=query.tx;if(tx&&tx.queryList[id]){tx.queryList={};try{if(typeof query.errorCallback=="function"){query.errorCallback(query.tx,reason)}}catch(ex){console.log("executeSql error calling user error callback: "+ex)}tx.queryFailed(id,reason)}}catch(e){console.log("executeSql error: "+e)}}};var DatabaseShell=function(){};DatabaseShell.prototype.transaction=function(process,errorCallback,successCallback){var tx=new DroidDB_Tx();tx.successCallback=successCallback;tx.errorCallback=errorCallback;try{process(tx)}catch(e){console.log("Transaction error: "+e);if(tx.errorCallback){try{tx.errorCallback(e)}catch(ex){console.log("Transaction error calling user error callback: "+e)}}}};var DroidDB_Tx=function(){this.id=PhoneGap.createUUID();this.successCallback=null;this.errorCallback=null;this.queryList={}};DroidDB_Tx.prototype.queryComplete=function(id){delete this.queryList[id];if(this.successCallback){var count=0;for(var i in this.queryList){count++}if(count==0){try{this.successCallback()}catch(e){console.log("Transaction error calling user success callback: "+e)}}}};DroidDB_Tx.prototype.queryFailed=function(id,reason){this.queryList={};if(this.errorCallback){try{this.errorCallback(reason)}catch(e){console.log("Transaction error calling user error callback: "+e)}}};var DroidDB_Query=function(tx){this.id=PhoneGap.createUUID();droiddb.queryQueue[this.id]=this;this.resultSet=[];this.tx=tx;this.tx.queryList[this.id]=this;this.successCallback=null;this.errorCallback=null};DroidDB_Tx.prototype.executeSql=function(sql,params,successCallback,errorCallback){if(typeof params=="undefined"){params=[]}console.log("executeSql("+sql+", "+params+")");var query=new DroidDB_Query(this);droiddb.queryQueue[query.id]=query;query.successCallback=successCallback;query.errorCallback=errorCallback;PhoneGap.exec(null,null,"Storage","executeSql",[sql,params,query.id])};DroidDB_Result=function(){this.rows=new DroidDB_Rows()};DroidDB_Rows=function(){this.resultSet=[];this.length=0};DroidDB_Rows.prototype.item=function(row){return this.resultSet[row]};DroidDB_openDatabase=function(name,version,display_name,size){PhoneGap.exec(null,null,"Storage","openDatabase",[name,version,display_name,size]);var db=new DatabaseShell();return db};PhoneGap.addConstructor(function(){if(typeof window.openDatabase=="undefined"){console.log("============= USING PHONEGAP STORAGE");navigator.openDatabase=window.openDatabase=DroidDB_openDatabase;window.droiddb=new DroidDB()}else{console.log("============= USING HTML5 STORAGE")}});function Temperature(){this.timers={}}Temperature.ERROR_MSG=["Not running","Starting","","Failed to start"];Temperature.prototype.getCurrentTemperature=function(successCallback,errorCallback){console.log("Temperature.getCurrentTemperature()");PhoneGap.exec(successCallback,errorCallback,"Temperature","getTemperature",[])};Temperature.prototype.watchTemperature=function(successCallback,errorCallback,options){var id=PhoneGap.createUUID();PhoneGap.exec(successCallback,errorCallback,"Temperature","start",[]);return id};Temperature.prototype.clearWatch=function(id){console.log("TEMP.CLEARWATCH()");PhoneGap.exec(null,null,"Temperature","stop",[])};PhoneGap.addConstructor(function(){if(typeof navigator.temperature=="undefined"){navigator.temperature=new Temperature()}});